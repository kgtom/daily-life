## 学习大纲
* [一、背景](#1)
* [二、Nginx超时与重试](#2)
* [三、Web容器超时与重试](#3)
* [四、中间件超时与重试](#4)


## <span id="1"> 一、背景</span>
* 在实际开发过程中，因为没有设置超时时间或者设置超时时间不合理，导致系统故障。这些故障导致请求慢，而慢请求累计导致连锁反应，甚至造成应用雪崩。
* 中间件或者框架在超时后会进行重试(一般两次)，读服务适合重试，但写服务，尤其新增订单，如果是幂等的，则重试是允许的，其它的会导致多倍请求，即模拟了DDos攻击。
* 所以 在review时候设置重试机制非常重要，主要设置在于**网络链接、读、写请求**。
## <span id="2"> 二、代理层(Nginx)超时与重试</span>
### 1.nginx 主要四类超时
* 1.客户端超时设置
* 2.DNS解析超时设置
* 3.代理超时设置
* 4.ngx_lua模块中lua超时设置
